# 1.2 矩阵和映射

## 1.2.1 暂时的定义

把数排列成长方形就是 **矩阵** 。比如：
1 &
$$\begin{pmatrix}
    2 & 0 \\
    0 & 3
\end{pmatrix}或
\begin{pmatrix}
    2.2 & -9 & 1/7 \\
    \sqrt{7} & \pi & 42
\end{pmatrix}或
\begin{pmatrix}
    3 & 1 & 4 \\
    1 & 5 & 9 \\
    2 & 6 & 5 \\
    3 & 5 & 8 \\
    9 & 7 & 9
\end{pmatrix}
$$

需要强调矩阵规模（大小，高和宽，行数和列数）的时候，我们分別称以上例子为 2 x 2 矩阵、2 x 3 矩阵和 5 x 3 矩阵，特别地，当行数和列数相同时，我们称之为 **正方矩阵** ,需要强调方阵的规模时，则将 2 x 2 方阵简称为 2 阶方阵，将 3 x 3 方阵简称为 3 阶方阵，依此类推。

矩阵 $A$ 中第 $i$ 行第 $j$ 列的值， 称为 $A$ 的 $(i,j)$ 元素。当提到 $(i,j)$ 元素吋，是先行后列的顺序。

按照下式中的规则书写的时候，变量的下标一般也是先行后列的顺序。

$$A = \begin{pmatrix}
    a_{11} & a_{12} & a_{13} & a_{14} \\
    a_{21} & a_{22} & a_{23} & a_{24} \\
    a_{31} & a_{32} & a_{33} & a_{34}
\end{pmatrix}$$

为了简单起见，上式也可以简写成 $3 \times 4\, 矩阵 A = (a_{ij})$。一般情况下，我们用大写字母表示矩阵，用小写字母表示矩阵的元素。

矩阵的加法和数量乘法，按照以下规则定义。

**加法** 相同规模(行数列数都相等)的矩阵之间的加法为：

$$\begin{pmatrix}
    a_{11} & \cdots & a_{1n} \\
    \vdots &        & \vdots \\
    a_{m1} & \cdots & a_{mn}
\end{pmatrix} +
\begin{pmatrix}
    b_{11} & \cdots & b_{1n} \\
    \vdots &        & \vdots \\
    b_{m1} & \cdots & b_{mn}
\end{pmatrix} =
\begin{pmatrix}
    a_{11} + b_{11} & \cdots & a_{1n} + b_{1n} \\
    \vdots          &        & \vdots          \\
    a_{m1} + b_{m1} & \cdots & a_{mn} + b_{mn}
\end{pmatrix}
$$

**数量乘法** 对于任意数 $c$，有：

$$c \begin{pmatrix}
    a_{11} & \cdots & a_{1n} \\
    \vdots &        & \vdots \\
    a_{m1} & \cdots & a_{mn}
\end{pmatrix} =
\begin{pmatrix}
    ca_{11} & \cdots & ca_{1n} \\
    \vdots  &        & \vdots  \\
    ca_{m1} & \cdots & ca_{mn}
\end{pmatrix}$$

下面的运算规则，和向量的运算是完全一样的。

* $-A = (-1)A$
* $A - B = A + (-B)$
* $2A + 3B = (2A) + (3B)$

下面，我们来定义矩阵和向量的乘积。

**乘积** 对于 $m \times n$ 矩阵与 $n$ 维向量，有：
$$\begin{pmatrix}
    a_{11} & \cdots & a_{1n} \\
    \vdots &        & \vdots \\
    a_{m1} & \cdots & a_{mn}
\end{pmatrix} \begin{pmatrix}
    x_1    \\
    \vdots \\
    x_n
\end{pmatrix} =
\begin{pmatrix}
    a_{11}x_1 + \cdots + a_{1n}x_n \\
    \vdots                         \\
    a_{m1}x_1 + \cdots + a_{mn}x_n
\end{pmatrix}$$

关于矩阵和向量的乘积，有几点需要注意：

* 矩阵与向量的乘积是向量
* 矩阵的列数为“输入”的向量维数，行数为“输出”的向量维数
* 计算时，就好比把输入的列向量放倒，然后将对应的元素分别相乘

总而言之，矩阵就是一种 **表示“平直”关系的遍历手段** 。就是进行简单的加法运算，不涉及到协同效应和规模效应。

## 1.2.2 用矩阵来表示各种关系

### 鸡兔同笼问题

现有一笼，其中有鸡只，兔只，笼中头的总数似和脚的总数y脚可以表示为：

$$y_头 = a_{头鸡}x_鸡 + a_{头鸡}x_兔 = x_鸡 + x_兔$$
$$y_脚 = a_{脚鸡}x_鸡 + a_{脚鸡}x_兔 = 2x_鸡 + 4x_兔$$

其中，$a_{头鸡} = 1$ 表示一只鸡有 1 颗头，$a_{脚兔}$ 表示一只兔有 4 只脚。

$$\begin{pmatrix}
    y_头 \\ y_脚
\end{pmatrix} = \begin{pmatrix}
    a_{头鸡} & a_{头兔} \\ a_{脚鸡} & a_{脚兔}
\end{pmatrix} \begin{pmatrix}
    x_鸡 \\ x_兔
\end{pmatrix} = \begin{pmatrix}
    1 & 1 \\ 2 & 4
\end{pmatrix} \begin{pmatrix}
    x_鸡 \\ x_兔
\end{pmatrix}$$

这里面不涉及“协同效应”或“规模效应”，单纯只是加和而已.

## 1.2.3 矩阵就是映射

将 $n$ 维向量 $x$ 乘以 $m \times n$ 矩阵 $A$，能得到 $m$ 维向量 $y = A \times x$ 也就是说，指定了矩阵 $A$，就确定了从向量到另外一个向量的映射。实际上，这才是矩阵最重要的机能。

经过变换以后，具有以下性质：

* 原点 $O$ 保持不变
* 直线移动之后还是直线
* 平行线移动之后还是平行线

总而言之，$m \times n$ 矩阵 $A$ 表示从 $n$ 维空间到 $m$ 维空间的一个映射。

最后，我们要指出看起来似乎理所当然，但又极其重要的一个事实，那就是 **映射相同则矩阵相同** 。换言之，对于行数列数都相等的矩阵 $A,B$，如果 $Ax = Bx$ 对于任意向量 $X$ 都成立，则 $A = B$。

## 1.2.4 矩阵的乘积 == 映射的合成

**乘积** 对于 $k \times m$ 矩阵 $B = (b_{ij})$ 和矩阵 $A = (a_jp)$，有：

$$\begin{pmatrix}
    b_{11} & \cdots & b_{1m} \\ \vdots &   &\vdots \\ b_{k1} & \cdots & b_{km}
\end{pmatrix} \begin{pmatrix}
    a_{11} & \cdots & a_{1n} \\ \vdots &   &\vdots \\ a_{m1} & \cdots & b_{mn}
\end{pmatrix} = \\ \begin{pmatrix}
    (b_{11}a_{11} + \cdots + b_{1m}a_{m1}) & \cdots & (b_{11}a_{1n} + \cdots + b_{1m}a_{mn}) \\
    \vdots &   & \vdots \\
    (b_{k1}a_{11} + \cdots + b_{km}a_{m1}) & \cdots & (b_{k1}a_{1n} + \cdots + b_{km}a_{mn})
\end{pmatrix}$$

请注意每个矩阵的行数和列数。$k \times m$ 矩阵乘以 $m \times n$ 矩阵得到的是 $k \times n$ 矩阵 计算步骤如下。

1. 将右边的矩阵按列分割开来，将每一列看作一个列向量
2. 将分割开的列向量分别与左边的矩阵做乘法(矩阵与向量的乘法)
3. 把所得的结果拼接起来

另一方面，$BA$ 与 $AB$ 可是两回事。首先，根据 A 和 B 的规模，不一定两者都有定义。就算有，结果可能也不太相等。

## 1.2.5 矩阵运算的性质

### 基本性质

对于数 $c,c\prime$、向量 $x$、矩阵 $A,B,C$，有以下各式成立。这里我们假设向量的维数和矩阵的规模均满足乘法运算的必要条件。

* $(cA)x = c(Ax) = A(cx)$
* $(A + B)x Ax + Bx$
* $A + B = B + A$
* $(A + B) + C = A + (B + C)$
* $(c + c\prime)A = cA + c\prime A$
* $(cc\prime)A = c(c\prime A)$
* $A(B + C) = AB + AC$
* $(A + B)C = AC + BC$
* $(cA)B = c(AB) = A(cB)$

### 向量是矩阵的一种吗？

对于 $n$ 维向量，完全可以将其看作是 $1 \times n$ 矩阵来参与运算。

这里有个非常重要的事情要注意。“列乘以行”和“行乘以列”请务必区分开来，两者的结果截然不同。

无论哪种情况，都可以视为两个矩阵的乘积而直接计算，所以弄混的人不少。特别是当我们写成代数式时，一定要意识到 $xy^T$ 和 $x^Ty$ 的区别。本书中，凡是提到向量 $x$，指的都是列向量。

## 1.2.6 矩阵的乘方 == 映射的迭代

和普通的熟读运算一样，对于 **方阵** $A$，有下式成立(非方阵的情况下 $AA$ 乘积没有定义)。

$$AA = A^2,\ \ \ \ AAA = A^3,\ \ \ \ \cdots$$

作为映射，$A^2$ 表示"“先 $A$ 再 $A$”的操作，$A^3$ 表示“先 $A$ 再 $A$ 再次 $A$”的操作，$A^n$表示“反复 $n$ 次 $A$”的操作。在计算顺序上，乘方的运算一定要优先于加减乘法运算。

与数的运算一样，下面的公式可以认为是理所当然的吧。

$$A^{\alpha + \beta} = A^\alpha A\beta$$
$$(A^\alpha)^\beta = A^{(\alpha \beta)}$$

这里，$\alpha, \beta = 1,2,\cdots$。

下面来看几个与普通的数的乘方运算不同的例子。设 $A,B$ 是规模相同的两个方阵。我们有以下关系。

$$(A + B)^2 = A^2 + AB + BA + B^2$$
$$(A + B)(A - B) = A^2 - AB + BA - B^2$$
$$(AB)^2 = ABAB$$

### $A^0$是什么

为了方便起见，规定 $A^0 = I$，其中 $I$ 是单位矩阵。有了这个规定,(1.10)式和(1.11) 式在 $\alpha, \beta$ 等于0时也同样成立了。

但是，对于一部分矩阵，这样的规定是不合适的。例如，对于零矩阵$O$，$O^0$ 就是没有定义的。原本对普通的数来说，$0^0$也是没有意义的。

## 1.2.7 零向量、单位矩阵、对角矩阵

### 零矩阵

所有元素都是 $0$ 的矩阵称为 **零矩阵**，记为 $O$。要强调矩阵规模时，我们用 $O_{m,n}$ 来表示 $m \times n$ 零矩阵，用 $O_{n,n}$ 来表示 $n$ 阶零方阵。

零矩阵表示的映射是将所有的点都映射到原点的映射。

可以很容易确认，对于任意矩阵 $A$，都有以下性质。

$$A + O = O + A = a$$
$$AO = O$$
$$OA = O$$
$$0A = O$$

另一方面，和普通的数的运算不同，请注意下面这些事实。

$A \neq O$ 且 
